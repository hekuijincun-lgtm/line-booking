name = "saas-api"
main = "src/index.ts"
compatibility_date = "2024-09-01"
minify = true

# ★ 本番 KV をトップレベルに直接バインド（ID はご指定のもの）
kv_namespaces = [
  { binding = "LINE_BOOKING", id = "22103efd0bd04365a2ec050a24b3dbc4", preview_id = "22103efd0bd04365a2ec050a24b3dbc4" }
]

[durable_objects]
bindings = [
  { name = "SLOT_LOCK", class_name = "SlotLock" }
]

# 既存ワーカーが持っている DO のマイグレーションタグに合わせておく（警告消し）
[[migrations]]
tag = "v3-slot-lock"
new_classes = ["SlotLock"]
