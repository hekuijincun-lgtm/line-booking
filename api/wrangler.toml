name = "saas-api"
main = "src/index.ts"
compatibility_date = "2024-09-01"
compatibility_flags = ["nodejs_compat"]

# KV: 実在する LINE_BOOKING の Namespace ID を指定
kv_namespaces = [
  { binding = "LINE_BOOKING", id = "22103efd0bd04365a2ec050a24b3dbc4" }
]

# Durable Object (予約のロック用)
[durable_objects]
bindings = [
  { name = "SLOT_LOCK", class_name = "SlotLock" }
]

# DO 初回作成のマイグレーションタグ（既に作成済みでもそのままでOK）
migrations = [
  { tag = "v3-slot-lock", new_classes = ["SlotLock"] }
]
