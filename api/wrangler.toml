# api/wrangler.toml
name = "saas-api"
main = "src/index.ts"
compatibility_date = "2024-10-01"
workers_dev = true
minify = true

# --- KV: 本番 & プレビュー（あなたのスクショのIDに合わせ済み）---
[[kv_namespaces]]
binding    = "LINE_BOOKING"
id         = "22103efd0bd04365a2ec050a24b3dbc4"   # LINE_BOOKING
preview_id = "03bbf9082957456cb4c18159d6788808"   # LINE_BOOKING_preview

# --- Durable Object ---
[[durable_objects.bindings]]
name = "SLOT_LOCK"
class_name = "SlotLock"

# 既存ワーカーに合わせたマイグレーションタグ（変更不要）
[[migrations]]
tag = "v3-slot-lock"
new_classes = ["SlotLock"]

# 任意の定数（必要なら）
[vars]
BASE_URL = "https://saas-api.hekujiincun.workers.dev"
