/**
 * Kazuki Booking - TemplateConfig
 * フェーズBの心臓部:
 *  - DSL(YAML) => TemplateConfig にパース
 *  - UI は TemplateConfig だけを見る
 */

export type TemplateFeatureItem = {
  title: string;
  description: string;
};

export type TemplateSection = {
  type: string;
  title: string;
  items: TemplateFeatureItem[];
};

export type TemplateHero = {
  title: string;
  subtitle: string;
  description: string;
  image: string;
  ctaLabel: string;
};

export type TemplateBrand = {
  primary: string;
  accent: string;
  surface: string;
};

export type TemplateMeta = {
  tags: string[];
  note: string;
};

export type TemplateConfig = {
  name: string;
  slug: string;
  brand: TemplateBrand;
  layout: {
    hero: TemplateHero;
    sections: TemplateSection[];
  };
  meta: TemplateMeta;
};

// 実際のYAML読み込みまでは一旦ここを stub としておく
// 後で YAML => TemplateConfig のパーサを差し込む
export async function loadTemplateConfig(slug: string): Promise<TemplateConfig> {
  // TODO: fetch(`/templates/${slug}.json`) or YAML パースへ差し替え
  throw new Error(`loadTemplateConfig(slug=${slug}) is not implemented yet.`);
}
